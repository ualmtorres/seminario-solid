<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.8.dev">
<meta name="author" content="Servicio de las Tecnologías de la Información y las Comunicaciones - Universidad de Almería">
<title>Principios SOLID</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-right">
<div id="header">
<h1>Principios SOLID</h1>
<div class="details">
<span id="author" class="author">Servicio de las Tecnologías de la Información y las Comunicaciones - Universidad de Almería</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Tabla de contenidos</div>
<ul class="sectlevel1">
<li><a href="#trueresumen">Resumen</a></li>
<li><a href="#trueintroducción">1. Introducción</a></li>
<li><a href="#trueprincipios-de-diseño-universales">2. Principios de diseño universales</a>
<ul class="sectlevel2">
<li><a href="#trueencapsular-lo-que-varía">2.1. Encapsular lo que varía</a></li>
<li><a href="#trueprogramar-sobre-una-interfaz-y-no-sobre-una-implementación">2.2. Programar sobre una interfaz y no sobre una implementación</a></li>
<li><a href="#truefavorecer-el-uso-de-la-composición-respecto-de-la-herencia">2.3. Favorecer el uso de la composición respecto de la herencia</a></li>
</ul>
</li>
<li><a href="#trueprincipios-solid">3. Principios SOLID</a>
<ul class="sectlevel2">
<li><a href="#truestupid">3.1. STUPID</a></li>
</ul>
</li>
<li><a href="#trueprincipios-de-diseño">4. Principios de diseño</a></li>
<li><a href="#trueprincipio-de-responsabilidad-única">5. Principio de Responsabilidad Única</a>
<ul class="sectlevel2">
<li><a href="#trueejemplo-sencillo">5.1. Ejemplo sencillo</a></li>
<li><a href="#trueno-usar-getters-y-setters">5.2. No usar getters y setters</a></li>
<li><a href="#trueejemplo-videocontroller">5.3. Ejemplo VideoController</a></li>
</ul>
</li>
<li><a href="#trueprincipio-de-abiertocerrado">6. Principio de Abierto/Cerrado</a></li>
<li><a href="#trueprincipio-de-sustitución-de-liskov">7. Principio de sustitución de Liskov</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/logocloudstic.png" alt="logocloudstic">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueresumen"><a class="anchor" href="#trueresumen"></a>Resumen</h2>
<div class="sectionbody">
<div class="ulist">
<div class="title">Objetivos</div>
<ul>
<li>
<p>xxx</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Disponible el <a href="https://github.com/ualmtorres/tutorial-nest-js">repositorio</a> usado en este tutorial.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueintroducción"><a class="anchor" href="#trueintroducción"></a>1. Introducción</h2>
<div class="sectionbody">
<div class="paragraph">
<p>En un buen diseño hay cosas que tenemos que hacer y cosas que tenemos que evitar. Básicamente debemos favorecer la reutilización de código y la extensibilidad.</p>
</div>
<div class="paragraph">
<p>Por un lado, la reutilización ayuda a reducir los costes reduciendo la creación de código desde cero y promoviendo la reutilización de código en proyectos existentes. En este sentido el uso de patrones de diseño es una forma de aumentar la flexibilidad del software y hacerlos más fáciles de reutilizar. No obstante, hay que tener en cuenta que en ocasiones el precio a pagar puede que no merezca la pena. Pero en proyectos grandes y con vistas a ser ampliados con el paso del tiempo, se convierten en algo prácticamente imprescindible. El caso más básico de reutilización lo encontramos en la reutilización de librerías de clases. En un nivel bastante más alto nos encontramos a los frameworks en los que ya hay tomadas una serie de decisiones de diseño y de organización de archivos. En un nivel intermedio situamos a los patrones de diseño, que nos ayudarn a definir una organización de clases y la forma en la que interactúan para dar respuesta a un problema concreto.</p>
</div>
<div class="paragraph">
<p>Por otro lado, la extensibilidad es una constante en el desarrollo de proyectos software. Está presente cuando nos piden abrir una línea de una aplicación móvil complementaria a la aplicación actual. Está presente cuando hay que hacer cambios a nivel de diseño de la interfaz de usuario. Está presente cuando hay un cambio en las reglas de negocio. Y está presente cuando hay que incluir nuevas funcionalidades.</p>
</div>
<div class="paragraph">
<p>Aunque no hay respuestas sencillas a priori para establecer cuando un diseño es bueno, sí que hay una serie de principios universales que nos pueden ser de ayuda y que sirven de base para los patrones de diseño. Básicamente se trata de encapsular lo que varía, programar sobre una interfaz y no sobre una implementación, y favorecer el uso de la composición respecto de la herencia.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueprincipios-de-diseño-universales"><a class="anchor" href="#trueprincipios-de-diseño-universales"></a>2. Principios de diseño universales</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="trueencapsular-lo-que-varía"><a class="anchor" href="#trueencapsular-lo-que-varía"></a>2.1. Encapsular lo que varía</h3>
<div class="paragraph">
<p>Se trata de identificar los aspectos que varían en una aplicación y separarlos de lo que permanece estable.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>El objetivo de encapsular lo que varía es reducir el impacto de los cambios. Cuanto menos tiempo se dedique a realizar un cambio, más tiempo se tiene para implementar nuevas funcionalidades.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="trueencapsulación-a-nivel-de-método"><a class="anchor" href="#trueencapsulación-a-nivel-de-método"></a>2.1.1. Encapsulación a nivel de método</h4>
<div class="paragraph">
<p>Supongamos un método <code>getOrderTotal</code> para el cálculo del total de un pedido incluyendo impuestos. En una propuesta original el cálculo de impuestos puede estar mezclado con el resto del código</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">method getOrderTotal(order) is total = 0
    foreach item in order.lineItems
        total += item.price * item.quantity

    if (order.country == "US")
        total += total * 0.07 // US sales tax
    else if (order.country == "EU"):
        total += total * 0.20 // European VAT

    return total</code></pre>
</div>
</div>
<div class="paragraph">
<p>Una opción es llevar la lógica del cálculo de impuestos a un método aparte</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">method getOrderTotal(order) is total = 0
    foreach item in order.lineItems
        total += item.price * item.quantity

    total += total * getTaxRate(order.country) <i class="conum" data-value="1"></i><b>(1)</b>

    return total

method getTaxRate(country) is <i class="conum" data-value="2"></i><b>(2)</b>
    if (country == "US")
        return 0.07 // US sales tax
    else if (country == "EU")
        return 0.20 // European VAT
    else
        return 0</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Llamada al método que hace el cálculo de los impuestos</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Método al que se ha extraído la lógica del cálculo de impuestos</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="trueencapsulación-a-nivel-de-clase"><a class="anchor" href="#trueencapsulación-a-nivel-de-clase"></a>2.1.2. Encapsulación a nivel de clase</h4>
<div class="paragraph">
<p>Si la complejidad del método aumenta y empieza a dedicarse a más de una cosa, o bien necesitamos varios métodos auxiliares, debemos llevarlo todo a una nueva clase que hará que todo sea más limpio y sencillo. Aquí vemos una clase <code>Order</code> que se dedica a la gestión de los pedidos en sí y además calcula sus impuestos.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/PedidoAntesDeExtraerClase.png" alt="PedidoAntesDeExtraerClase">
</div>
</div>
<div class="paragraph">
<p>Si ahora sacamos el método del cálculo de clases a otra clase aparte, conseguimos aislar en otra clase lo que puede variar y se deja la clase <code>Order</code> para las operaciones relacionadas estrictamente con los pedidos (registro, consulta, &#8230;&#8203;).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/PedidoDespuesDeExtraerClase.png" alt="PedidoDespuesDeExtraerClase">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trueprogramar-sobre-una-interfaz-y-no-sobre-una-implementación"><a class="anchor" href="#trueprogramar-sobre-una-interfaz-y-no-sobre-una-implementación"></a>2.2. Programar sobre una interfaz y no sobre una implementación</h3>
<div class="paragraph">
<p>Cuando queremos que dos clases colaboren se debe evitar que una dependa de la otra. Una forma más flexible hace lo siguiente:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Determinar qué es lo que necesita un objeto del otro.</p>
</li>
<li>
<p>Definir esos métodos en una nueva interfaz o en una nueva clase abstracta.</p>
</li>
<li>
<p>Crear una clase que implemente esa interfaz.</p>
</li>
<li>
<p>Hacer que la clase original dependa ahora de la interfaz y no de la clase concreta.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Aquí vemos un ejemplo en el que se pasa de programar sobre una clase concreta (<code>Sausage</code>) a programar sobre una interface (<code>Food</code>).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/GatosExtraerInterface.png" alt="GatosExtraerInterface">
</div>
</div>
<div class="paragraph">
<p>Otro ejemplo de diseño incorrecto programando sobre clases concretas y no sobre interfaces sería el siguiente:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/ProgramadoresAntesDeExtraerInterface.png" alt="ProgramadoresAntesDeExtraerInterface">
</div>
</div>
<div class="paragraph">
<p>Para desacoplar las clases generalizamos los métodos de las clases de los distintos tipos de empleados a un nuevo método en una interface <code>Employee</code>. Para usar las clases concretas haremos polimorfismo desde la clase <code>Company</code> sobre el método <code>doWork</code> de la interface <code>Employee</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/ProgramadoresDespuesDeExtraerInterface.png" alt="ProgramadoresDespuesDeExtraerInterface">
</div>
</div>
<div class="paragraph">
<p>Si más adelante tenemos diferentes tipos de empresas que necesiten obtener su lista de empleados de forma diferente (en función de sus tipos de empleado), en lugar de hacerlo con <code>if-else</code> favoreceremos la creación de subclases específicas y hacemos que el método de la clase sea <code>abstract</code> para que lo implemente cada subclase. Esto permitirá añadir nuevos tipos de empresas más adelante con sus métodos particulares de recuperación de empleados.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/CompañiasFacilmenteExtensibles.png" alt="CompañiasFacilmenteExtensibles">
</div>
</div>
</div>
<div class="sect2">
<h3 id="truefavorecer-el-uso-de-la-composición-respecto-de-la-herencia"><a class="anchor" href="#truefavorecer-el-uso-de-la-composición-respecto-de-la-herencia"></a>2.3. Favorecer el uso de la composición respecto de la herencia</h3>
<div class="paragraph">
<p>Pese a que la herencia es la forma más inmediata que utilizamos para reutilizar código entre clases, hay que usarla con cuidado si queremos tener un buen diseño que evite problemas en el futuro de nuestras aplicaciones.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Una subclase no puede reducir la interface de la superclase. Hay que implementar todos los métodos abstractos de la clase padre aunque no se vayan a usar en la subclase.</p>
</li>
<li>
<p>Los métodos sobrescritos tienen que ofrecer un comportamiento nuevo que sea compatible con de la superclase. Esto se debe a que puede que se pasen objetos de la subclase a métodos que esperen objetos de la superclase y no queremos que el código quede roto. Veremos más sobre esto en <a href="#trueprincipio-de-sustitución-de-liskov">Principio de sustitución de Liskov</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>La opción es pasar de una relación "es-un" a una relación "tiene-un".</p>
</div>
<div class="paragraph">
<p>Un ejemplo lo podemos tener en una aplicación de transporte, que tiene vehículos que pueden ser coches o camiones. Los vehículos pueden ser eléctricos o de combustión. Los vehiculos pueden tener piloto automático o manual.</p>
</div>
<div class="paragraph">
<p>Con herencia esto daría lugar a la explosión siguiente, que podría aumentar aún más al añadir nuevas características.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/TransporteHerencia.png" alt="TransporteHerencia">
</div>
</div>
<div class="paragraph">
<p>Con la composición no implementamos el comportamiento sino que lo <strong>delegamos</strong> a otras clases.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/TransporteComposicion.png" alt="TransporteComposicion">
</div>
</div>
<div class="paragraph">
<p>Este nuevo enfoque es mucho más versátil y limpio.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueprincipios-solid"><a class="anchor" href="#trueprincipios-solid"></a>3. Principios SOLID</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Ayudan a programar mejor creando un código más fácil de mantener</p>
</li>
<li>
<p>Ayudan a mejorar una propuesta de diseño de software</p>
</li>
<li>
<p>Ayudan a dar feedback a compañeros sobre la calidad de su software</p>
</li>
<li>
<p>Son principios o convenios bastante aceptados en la industria</p>
</li>
<li>
<p>Ayudan a hacer tests</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>Deuda técnica: Hacer algo mal que va acompañándonos todo el proyecto.</p>
</li>
<li>
<p>Optimización prematura (crédito técnico): Complicar demasiado la arquitectura por su en un futuro se necesita cuando en realidad no hace falta.</p>
</li>
<li>
<p>Todos los desarrolladores de un equipo deberían tener nociones de diseño de software para fomentar la autonomía y agilidad del equipo</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="truestupid"><a class="anchor" href="#truestupid"></a>3.1. STUPID</h3>
<div class="ulist">
<ul>
<li>
<p>Singleton: Este objeto va dando vueltas por todo el programa (p.e. caché en memoria). El problema es que genera mucho acoplamiento y dificulta el testing.</p>
</li>
<li>
<p>Tight coupling: Conoces la implementación (p.e. MySQL, proveedor de mailing). Hay que ir cambiando en cada una de las clases que lo usen. Dificulta el mantenimiento.</p>
</li>
<li>
<p>Untestability: Al no inyectar las dependencias en el constructor sino acoplándonos a ellas usando métodos estáticos tenemos código no testeable. Al no inyectar dependencias vía constructor nos vemos obligados al uso de costuras en nuestro código.</p>
</li>
<li>
<p>Premature optimization: Trabajo innecesario anticipándonos en exceso que añade complejidad gratuita cuando en realidad no hace falta. Evitar crear superclases abstractas si no son necesarias.</p>
</li>
<li>
<p>Indescriptive naming</p>
</li>
<li>
<p>Duplication. Mejor generar abstracciones o extracciones buscando la responsabilidad única.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueprincipios-de-diseño"><a class="anchor" href="#trueprincipios-de-diseño"></a>4. Principios de diseño</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="trueprincipio-de-responsabilidad-única"><a class="anchor" href="#trueprincipio-de-responsabilidad-única"></a>5. Principio de Responsabilidad Única</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Concepto:</p>
<div class="ulist">
<ul>
<li>
<p>Una clase = Un concepto y responsabilidad</p>
</li>
<li>
<p>Una clase debería tener sólo 1 razón para cambiar</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cómo conseguirlo:</p>
<div class="ulist">
<ul>
<li>
<p>Clases de servicios pequeñas con objetivos acotados</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Un servicio aquello que orquesta un conjunto de pasos interactuando con otros elementos del sistema y toca infraestructura (para enviar emails -construir, validar si es correcto).
<strong>Cada servicio sólo debe tener un método público</strong>
Mejor tener un EmailSender que no un EmailService que puede agupar funciones variadas.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Finalidad:</p>
<div class="ulist">
<ul>
<li>
<p>Alta cohesión y robustez</p>
</li>
<li>
<p>Permitir composición de clases (inyectar colaboradores). Evitamos tener una clase con 5 métodos inyectando 5 clases a la clase original</p>
</li>
<li>
<p>Evitar duplicidad de código gracias a la reutilización de clases "pequeñas" (composición)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Evitamos servicios como OrderAnalyzer u OrderProcessor porque términos genéricos nos abocan a acabar con más de 1 responsabilidad
Preferimos servivios como OrderTrustabilityChecker u OrderMarginCalculator porque son más específicos y no abren la puerta a añadir más funcionalidades.</p>
</div>
<div class="sect2">
<h3 id="trueejemplo-sencillo"><a class="anchor" href="#trueejemplo-sencillo"></a>5.1. Ejemplo sencillo</h3>
<div class="sect3">
<h4 id="trueviolación-srp-en-modelo-de-dominio"><a class="anchor" href="#trueviolación-srp-en-modelo-de-dominio"></a>5.1.1. Violación SRP en modelo de dominio</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Modelo de dominio Book:


final class Book
{
    public String getTitle()
    {
        return "A great book";
    }
    public String getAuthor()
    {
        return "John Doe";
    }
    public void printCurrentPage()
    {
        System.out.println("current page content");
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Servicio cliente del modelo de dominio:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">final class Client
{
    public Client() {
        Book book = new Book(…);
        book.printCurrentPage();
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Motivo del por qué no respetamos SRP: Book está acoplada al canal estándar de salida al imprimir la página actual. Sabe cómo modelar los datos y cómo imprimirlos.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="truerefactor-respetando-srp"><a class="anchor" href="#truerefactor-respetando-srp"></a>5.1.2. Refactor respetando SRP</h4>
<div class="paragraph">
<p>Clase Book:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">final class Book
{
    public String getTitle()
    {
        return "A great book";
    }
    public String getAuthor()
    {
        return "John Doe";
    }
    public String getCurrentPage()
    {
        return "current page content";
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Implementación de la impresora:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">final class StandardOutputPrinter
{
    public void printPage(String page)
    {
        System.out.println(page);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Servicio cliente:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">final class Client
{
    public Client() {
        Book book = new Book(…);
        String currentPage = book.getCurrentPage();
        StandardOutputPrinter printer = new StandardOutputPrinter();
        printer.printPage(currentPage);
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="trueaplicando-modularidad"><a class="anchor" href="#trueaplicando-modularidad"></a>5.1.3. Aplicando modularidad</h4>
<div class="paragraph">
<p>Esto lo veremos en detalle en la lección del Principio de Inversión de Dependencias (DIP) de este mismo curso:</p>
</div>
<div class="paragraph">
<p>Interface Printer:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">interface Printer
{
    public void printPage(String page);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Impresora por el canal estándar de salida:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">final class StandardOutputPrinter implements Printer
{
    public void printPage(String page)
    {
        System.out.println(page);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Impresora por el canal estándar de salida pero en HTML:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">final class StandardOutputHtmlPrinter implements Printer
{
    public void printPage(String page)
    {
        System.out.println("&lt;div&gt;" + page + "&lt;/div&gt;");
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trueno-usar-getters-y-setters"><a class="anchor" href="#trueno-usar-getters-y-setters"></a>5.2. No usar getters y setters</h3>
<div class="ulist">
<ul>
<li>
<p>Evitar modelos anémicos: clases de dominio sólo con variables de instancia y sin comportamiento, es decir, que parezcan un DTO.</p>
</li>
<li>
<p>No definir las variables de instancia como públicos para acceder directamente. Abre el modelo a problemas de integridad e inconsistencia en el modelo. Convertimos las variables de instancia en privadas y definimos getters y setters.</p>
</li>
<li>
<p>Creamos un constructor con sus variables de instancia.</p>
</li>
<li>
<p>La lógica de las entidades no debe estar fuera de ellas repartida por la aplicación (servicios usando getters y construyendo la lógica de negocio fuera). En su lugar, la lógica está en la entidad y le preguntas si se cumple la lógica o no. Un método como el de saber si es el cumpleaños de un usuario tiene que estar en el usuario, no fuera.</p>
<div class="ulist">
<ul>
<li>
<p>El comportamiento de IsHisBirthday() no debería estar en Mail.SendNotifications().</p>
</li>
<li>
<p>El comportamiento de IsPackable() basado en el volumen de un objeto no debería estar en una clase Sender, sino que debería ser de la clase Product.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="trueejemplo-videocontroller"><a class="anchor" href="#trueejemplo-videocontroller"></a>5.3. Ejemplo VideoController</h3>
<div class="paragraph">
<p>Tenemos un controlador como punto de acceso a varias operaciones (endpoints) de la API</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="php" class="language-php hljs">&lt;?php

namespace AppBundle\Controller;

use Symfony\Component\HttpFoundation\Request;

/**
 * THE VIDEO CONTROLLER
 * © CodelyTV 2017
 */
class VideoController extends BaseController
{
    /**
     * Method used to create a new video
     * @todo Validate the request
     */
    public function postVideoAction(Request $request) <i class="conum" data-value="1"></i><b>(1)</b>
    {
        // Preparing the sql to create the video <i class="conum" data-value="2"></i><b>(2)</b>
        $sql  = "INSERT INTO video (title, url, course_id)
                VALUES (\"{$request-&gt;get('title')}\",
                        \"{$request-&gt;get('url')}\",
                        {$request-&gt;get('course_id')}
                )";

        // Prepare doctrine statement
        $stmt = $this-&gt;getDoctrine()-&gt;getConnection()-&gt;prepare($sql);
        $stmt-&gt;execute();

        // IMPORTANT: Obtaining the video id. Take care, it's done without another query :)
        $videoId = $stmt-&gt;lastInsertId(); <i class="conum" data-value="3"></i><b>(3)</b>

        // And we return the video created <i class="conum" data-value="4"></i><b>(4)</b>
        return [
            'id'        =&gt; $videoId,
            'title'     =&gt; $request-&gt;get('title'),
            'url'       =&gt; $request-&gt;get('url'),
            'course_id' =&gt; $request-&gt;get('course_id'),
        ];
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Tenenos una función por cada operación/endpoint de la API</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Acoplamiento a BD. Problema al cambiar de BD, al añadir un nuevo campo hay que modificar en cada uno de los controladores/servicios</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Depender de infraestructura para obtener el ID</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>En la creación estamos devolviendo datos</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Indicios de violación del SRP</div>
<div class="ulist">
<ul>
<li>
<p>Tener varios endpoints diferentes (con acciones POST, PUT, DELETE, &#8230;&#8203;), reunirlos en un solo controlador que luego derive cada endpoint a sus respectivos servicios es un indicio de violación del SRP. Esto va en contra de tener un controlador por tipo de recurso con todos sus verbos, pero separar el controlador por verbo genera simplicidad aunque aumenta el número de archivos.</p>
</li>
<li>
<p>Tener un método con un argumento en función del cual se haga una cosa u otra en un <code>switch</code> o <code>if</code> en lugar de tantos métodos como condiciones genere el parámetro pasado al argumento es un indicio de violación del SRP.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueprincipio-de-abiertocerrado"><a class="anchor" href="#trueprincipio-de-abiertocerrado"></a>6. Principio de Abierto/Cerrado</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>El software debe estar abierto a extensión y cerrado a modificación haciendo uso de interfaces o de clases abstractas.</p>
</li>
<li>
<p>Finalidad</p>
<div class="ulist">
<ul>
<li>
<p>Facilitar la incorporación de nuevos casos de uso a la aplicación o acciones derivadas.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cómo conseguirlo</p>
<div class="ulist">
<ul>
<li>
<p>Abstraemos a una interfaz lo común y le pedimos las operaciones necesarias (p.e. enviar una notificación, añadir a la lista de novedades, guardar en MinIO, &#8230;&#8203;). La interfaz representa el contrato y ya no se depende de implementaciones concretas, sino de abstracciones</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Cuando queremos añadir algo nuevo derivado de la acción realizada (p.e. añadir un nuevo video) no tenemos que modificar la clase. También lo tenemos presente cuando calculamos el sueldo en función del tipo de empleado y nos enfrentamos a que llega un tipo de empleado nuevo.
Podemos publicar un evento de dominio y añadir nuevos suscriptores para los nuevos casos de uso.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Indicios de violación del OCP</div>
<div class="paragraph">
<p>Tener un parámetro y con un <code>if</code> o <code>switch</code> usar una lógica u otra. Cada ez que haya que añadir algo habría que ir buscando todos los <code>if</code> o <code>switch</code> donde se controle eso y actualizarlos.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueprincipio-de-sustitución-de-liskov"><a class="anchor" href="#trueprincipio-de-sustitución-de-liskov"></a>7. Principio de sustitución de Liskov</h2>
<div class="sectionbody">
<div class="paragraph">
<p>El comportamiento de las subclases debe respetar el contrato establecido en la superclase.</p>
</div>
<div class="paragraph">
<p>Clase Rectangle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">class Rectangle {

    private Integer length;
    private Integer width;

    Rectangle(Integer length, Integer width) {
        this.length = length;
        this.width = width;
    }

    void setLength(Integer length) {
        this.length = length;
    }

    void setWidth(Integer width) {
        this.width = width;
    }

    Integer getArea() {
        return this.length * this.width;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Clase Square:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">final class Square extends Rectangle {
    Square(Integer lengthAndWidth) {
        super(lengthAndWidth, lengthAndWidth);
    }

    @Override
    public void setLength(Integer length) {
      super.setLength(length);
      super.setWidth(length);
    }
    @Override
    public void setWidth(Integer width) {
      super.setLength(width);
      super.setWidth(width);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>El problema aparece cuando queremos calcular el área de un cuadrado usando el método del rectángulo, manteniendo el contrato establecido en la clase padre.</p>
</div>
<div class="paragraph">
<p>Test SquareShould:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">final class SquareShould {
    @Test
    void not_respect_the_liskov_substitution_principle_breaking_the_rectangle_laws_while_modifying_its_length() {
        Integer squareLengthAndWidth = 2;
        Square square = new Square(squareLengthAndWidth);

        Integer newSquareLength = 4;
        square.setLength(newSquareLength);

        Integer expectedAreaTakingIntoAccountRectangleLaws = 8;

        assertNotEquals(expectedAreaTakingIntoAccountRectangleLaws, square.getArea());
	  }
}</code></pre>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Indicios del violación del LSP</div>
<div class="paragraph">
<p><em>Preconditions cannot be strengthened in a subtype</em>. En este caso, en Rectangulo no hay ninguna precondición, length y width pueden tener cualquier valor y no tienen relación entre ellas. Pero cuadrado está añadiendo una "precondición", length y width deben tener siempre el mismo valor.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-08-09 19:25:53 +0200
</div>
</div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/github.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
<script>hljs.initHighlighting()</script>
</body>
</html>